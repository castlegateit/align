(function(t){"use strict";var e="uniformify";var i=e+"ResizeDone";var n={selector:"> *"};var o;var r={update:"update",reset:"reset"};var s=function(i,o){this.element=i;this.settings=t.extend({},n,o);this._defaults=n;this._name=e;this.init()};s.prototype.init=function(){var e=this;this.select();t(window).on("load "+i,function(){e.align()})};s.prototype.select=function(){this.boxes=t(this.element).find(this.settings.selector);this.save()};s.prototype.save=function(){this.boxes.each(function(e,i){var n=t(i);if(n.attr("style")&&!n.data("style")){n.data("style",n.attr("style"))}})};s.prototype.reset=function(){this.naturalize();this.boxes.each(function(e,i){var n=t(i);if(n.data("style")){return n.attr("style",n.data("style"))}n.removeAttr("style")})};s.prototype.naturalize=function(){this.boxes.each(function(e,i){t(i).height("auto")})};s.prototype.align=function(){var e=this.boxes;var i=[];this.naturalize();e.each(function(n,o){var r=t(o);var s=0;var a=r.add(e.not(r).filter(function(){return r.offset().top===t(this).offset().top}));if(a.length===1||t.inArray(o,i)!==-1){return}a.each(function(e,n){var o=t(n);var r=o.outerHeight();if(r>s){s=r}i.push(n)});a.each(function(e,i){return t(i).outerHeight(s)})})};s.prototype.update=function(){this.select();this.align()};t.fn[e]=function(i){return this.each(function(){var n=t.data(this,e);if(typeof i==="string"){if(typeof n==="undefined"||typeof r[i]==="undefined"){return false}return n[r[i]]()}if(!n){t.data(this,e,new s(this,i))}})};t(window).on("resize",function(){window.clearTimeout(o);o=window.setTimeout(function(){t(window).trigger(i)},50)})})(jQuery);
