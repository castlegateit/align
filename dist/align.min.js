!function(h){"use strict";function i(t,e){this.element=t,this.settings=h.extend({},o,e),this._defaults=o,this._name=n,this.init()}var t,n="align",e=n+"ResizeDone",o={bottom:!1,selector:"> *"},s={update:"update",reset:"reset"};i.prototype.init=function(){var t=this;this.select(),h(window).on("load "+e,function(){t.align()}),t.align()},i.prototype.select=function(){this.boxes=h(this.element).find(this.settings.selector),this.save()},i.prototype.save=function(){this.boxes.each(function(t,e){var i=h(e);i.attr("style")&&!i.data("style")&&i.data("style",i.attr("style"))})},i.prototype.reset=function(){this.naturalize(),this.boxes.each(function(t,e){var i=h(e);if(i.data("style"))return i.attr("style",i.data("style"));i.removeAttr("style")})},i.prototype.naturalize=function(){this.boxes.each(function(t,e){h(e).height("auto")})},i.prototype.align=function(){var s=this,a=s.boxes,r=[];this.naturalize(),a.each(function(t,e){var i=h(e),n=0,o=i.add(a.not(i).filter(function(){var t=i.offset().top,e=h(this).offset().top;return s.settings.bottom&&(t+=i.height(),e+=h(this).height()),t===e}));1!==o.length&&-1===h.inArray(e,r)&&(o.each(function(t,e){var i=h(e).outerHeight();n<i&&(n=i),r.push(e)}),o.each(function(t,e){return h(e).outerHeight(n)}))})},i.prototype.update=function(){this.select(),this.align()},h.fn[n]=function(e){return this.each(function(){var t=h.data(this,n);if("string"==typeof e)return void 0!==t&&void 0!==s[e]&&t[s[e]]();t||h.data(this,n,new i(this,e))})},h(window).on("resize",function(){window.clearTimeout(t),t=window.setTimeout(function(){h(window).trigger(e)},50)})}(jQuery);